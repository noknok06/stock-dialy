{% with type_config=note_type|default:"other" %}
<span class="badge 
  {% if type_config == 'analysis' %}badge-primary
  {% elif type_config == 'news' %}badge-info
  {% elif type_config == 'earnings' %}badge-success
  {% elif type_config == 'insight' %}badge-warning
  {% elif type_config == 'risk' %}badge-danger
  {% else %}badge-secondary{% endif %}
  {% if size %}badge-{{ size }}{% endif %}">
  
  {% if show_icon != False %}
    {% if type_config == 'analysis' %}<i class="bi bi-graph-up me-1"></i>
    {% elif type_config == 'news' %}<i class="bi bi-newspaper me-1"></i>
    {% elif type_config == 'earnings' %}<i class="bi bi-bar-chart me-1"></i>
    {% elif type_config == 'insight' %}<i class="bi bi-lightbulb me-1"></i>
    {% elif type_config == 'risk' %}<i class="bi bi-exclamation-triangle me-1"></i>
    {% else %}<i class="bi bi-tag me-1"></i>{% endif %}
  {% endif %}
  
  {% if type_config == 'analysis' %}分析更新
  {% elif type_config == 'news' %}ニュース
  {% elif type_config == 'earnings' %}決算情報
  {% elif type_config == 'insight' %}新たな気づき
  {% elif type_config == 'risk' %}リスク要因
  {% else %}その他{% endif %}
</span>
{% endwith %}
